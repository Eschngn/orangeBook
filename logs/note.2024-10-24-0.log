2024-10-24 21:27:17.018 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-10-24 21:27:17.115 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-10-24 21:27:17.890 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-10-24 21:27:17.915 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-10-24 21:27:17.916 [main] INFO  c.s.o.note.biz.OrangeBookNoteBizApplication - The following 1 profile is active: "dev"
2024-10-24 21:27:18.948 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-24 21:27:18.952 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-24 21:27:18.981 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2024-10-24 21:27:19.302 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=80802f0c-02a9-3034-97f3-f69009b0aab3
2024-10-24 21:27:19.345 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.swc.orangeBook.distributed.id.generator.api.DistributedIdGeneratorFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 21:27:19.347 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.swc.orangeBook.kv.api.KeyValueFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 21:27:19.350 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.swc.orangeBook.user.api.UserFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 21:27:19.694 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 21:27:19.819 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 21:27:19.822 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 21:27:19.828 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 21:27:19.830 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$711/0x00000141424f4780] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 21:27:19.833 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 21:27:19.845 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 21:27:19.846 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 21:27:20.254 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8086 (http)
2024-10-24 21:27:20.275 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2024-10-24 21:27:20.275 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2024-10-24 21:27:20.435 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-24 21:27:20.435 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2489 ms
2024-10-24 21:27:20.652 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2024-10-24 21:27:21.176 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2024-10-24 21:27:21.673 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaochengshu-distributed-id-generator' URL not provided. Will try picking an instance via load-balancing.
2024-10-24 21:27:21.749 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaochengshu-kv' URL not provided. Will try picking an instance via load-balancing.
2024-10-24 21:27:21.783 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaochengshu-user' URL not provided. Will try picking an instance via load-balancing.
2024-10-24 21:27:22.606 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (xiaochengshu_group) init on namesrv 192.168.247.138:9876
2024-10-24 21:27:24.107 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='xiaochengshu_group_DeleteNoteLocalCacheTopic', namespace='', nameServer='192.168.247.138:9876', topic='DeleteNoteLocalCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=BROADCASTING', tlsEnable=false, instanceName=DEFAULT}
2024-10-24 21:27:24.107 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:deleteNoteLocalCacheConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2024-10-24 21:27:25.804 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8086 (http) with context path ''
2024-10-24 21:27:25.818 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-10-24 21:27:25.818 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2024-10-24 21:27:25.820 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2024-10-24 21:27:25.821 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2024-10-24 21:27:25.870 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2024-10-24 21:27:25.871 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2024-10-24 21:27:25.872 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2024-10-24 21:27:25.881 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2024-10-24 21:27:25.882 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2024-10-24 21:27:25.888 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2024-10-24 21:27:25.908 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 2fa7c83d-13eb-49ee-8f28-f9f7b191892e
2024-10-24 21:27:25.949 [main] INFO  com.alibaba.nacos.common.remote.client - [2fa7c83d-13eb-49ee-8f28-f9f7b191892e] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2024-10-24 21:27:25.950 [main] INFO  com.alibaba.nacos.common.remote.client - [2fa7c83d-13eb-49ee-8f28-f9f7b191892e] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2024-10-24 21:27:25.951 [main] INFO  com.alibaba.nacos.common.remote.client - [2fa7c83d-13eb-49ee-8f28-f9f7b191892e] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2024-10-24 21:27:25.955 [main] INFO  com.alibaba.nacos.common.remote.client - [2fa7c83d-13eb-49ee-8f28-f9f7b191892e] Try to connect to server on start up, server: {serverIp = '192.168.247.138', server main port = 8848}
2024-10-24 21:27:26.016 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:192.168.247.138 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2024-10-24 21:27:27.558 [main] INFO  com.alibaba.nacos.common.remote.client - [2fa7c83d-13eb-49ee-8f28-f9f7b191892e] Success to connect to server [192.168.247.138:8848] on start up, connectionId = 1729149737529_192.168.247.1_60185
2024-10-24 21:27:27.559 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [2fa7c83d-13eb-49ee-8f28-f9f7b191892e] Notify connected event to listeners.
2024-10-24 21:27:27.559 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2024-10-24 21:27:27.559 [main] INFO  com.alibaba.nacos.common.remote.client - [2fa7c83d-13eb-49ee-8f28-f9f7b191892e] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2024-10-24 21:27:27.559 [main] INFO  com.alibaba.nacos.common.remote.client - [2fa7c83d-13eb-49ee-8f28-f9f7b191892e] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$1280/0x00000141429bdf90
2024-10-24 21:27:27.561 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaochengshu registering service xiaochengshu-note with instance Instance{instanceId='null', ip='192.168.17.1', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2024-10-24 21:27:27.581 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaochengshu-note 192.168.17.1:8086 register finished
2024-10-24 21:27:27.880 [main] INFO  c.s.o.note.biz.OrangeBookNoteBizApplication - Started OrangeBookNoteBizApplication in 11.998 seconds (process running for 13.134)
2024-10-24 21:28:23.347 [http-nio-8086-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-24 21:28:23.348 [http-nio-8086-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-24 21:28:23.349 [http-nio-8086-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-24 21:28:23.357 [http-nio-8086-exec-1] INFO  c.s.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: 111
2024-10-24 21:28:23.358 [http-nio-8086-exec-1] INFO  c.s.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 111
2024-10-24 21:28:23.471 [http-nio-8086-exec-1] INFO  c.s.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [点赞笔记], 入参: {"id":1846789498420068425}, 请求类: controller.com.swc.orangeBook.count.biz.NoteController, 请求方法: likeNote ===================================
2024-10-24 21:28:23.803 [http-nio-8086-exec-1] WARN  c.s.o.note.biz.exception.GlobalExceptionHandler - /note/like request fail, errorCode: NOTE-20008, errorMessage: 您已经点赞过该笔记
2024-10-24 21:28:23.817 [http-nio-8086-exec-1] INFO  c.s.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 111
2024-10-24 21:30:20.266 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2024-10-24 21:30:20.266 [Thread-12] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2024-10-24 21:30:20.267 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2024-10-24 21:30:20.267 [Thread-12] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2024-10-24 21:30:23.107 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [2fa7c83d-13eb-49ee-8f28-f9f7b191892e] Server healthy check fail, currentConnection = 1729149737529_192.168.247.1_60185
2024-10-24 21:30:23.107 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [2fa7c83d-13eb-49ee-8f28-f9f7b191892e] Try to reconnect to a new server, server is  not appointed, will choose a random server.
2024-10-24 21:30:23.108 [com.alibaba.nacos.client.remote.worker] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:192.168.247.138 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2024-10-24 21:30:23.272 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[192.168.247.138:10911] result: true
2024-10-24 21:30:26.068 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[192.168.247.138:9876] result: true
2024-10-24 21:30:26.112 [com.alibaba.nacos.client.remote.worker] ERROR c.a.nacos.common.remote.client.grpc.GrpcClient - Server check fail, please check server 192.168.247.138 ,port 9848 is available , error ={}
java.util.concurrent.TimeoutException: Waited 3000 milliseconds (plus 1 milliseconds, 680600 nanoseconds delay) for com.alibaba.nacos.shaded.io.grpc.stub.ClientCalls$GrpcFuture@1365dd7c[status=PENDING, info=[GrpcFuture{clientCall=PendingCall{realCall=ClientCallImpl{method=MethodDescriptor{fullMethodName=Request/request, type=UNARY, idempotent=false, safe=false, sampledToLocalTracing=true, requestMarshaller=com.alibaba.nacos.shaded.io.grpc.protobuf.lite.ProtoLiteUtils$MessageMarshaller@27869b9d, responseMarshaller=com.alibaba.nacos.shaded.io.grpc.protobuf.lite.ProtoLiteUtils$MessageMarshaller@546516fd, schemaDescriptor=com.alibaba.nacos.api.grpc.auto.RequestGrpc$RequestMethodDescriptorSupplier@66157400}}}}]]
	at com.alibaba.nacos.shaded.com.google.common.util.concurrent.AbstractFuture.get(AbstractFuture.java:508)
	at com.alibaba.nacos.common.remote.client.grpc.GrpcClient.serverCheck(GrpcClient.java:218)
	at com.alibaba.nacos.common.remote.client.grpc.GrpcClient.connectToServer(GrpcClient.java:329)
	at com.alibaba.nacos.common.remote.client.RpcClient.reconnect(RpcClient.java:502)
	at com.alibaba.nacos.common.remote.client.RpcClient.lambda$start$2(RpcClient.java:343)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
2024-10-24 21:30:26.221 [com.alibaba.nacos.client.remote.worker] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:192.168.247.138 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2024-10-24 21:30:26.297 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[192.168.247.138:10911] result: true
2024-10-24 21:30:26.298 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[192.168.247.138:9876] result: true
2024-10-24 21:30:26.379 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2024-10-24 21:30:26.380 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaochengshu deregistering service xiaochengshu-note with instance: Instance{instanceId='null', ip='192.168.17.1', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2024-10-24 21:30:26.480 [SpringApplicationShutdownHook] ERROR com.alibaba.nacos.common.remote.client - Send request fail, request = InstanceRequest{headers={app=unknown}, requestId='null'}, retryTimes = 0, errorMessage = Client not connected, current status:UNHEALTHY
2024-10-24 21:30:26.581 [SpringApplicationShutdownHook] ERROR com.alibaba.nacos.common.remote.client - Send request fail, request = InstanceRequest{headers={app=unknown}, requestId='null'}, retryTimes = 1, errorMessage = Client not connected, current status:UNHEALTHY
2024-10-24 21:30:26.683 [SpringApplicationShutdownHook] ERROR com.alibaba.nacos.common.remote.client - Send request fail, request = InstanceRequest{headers={app=unknown}, requestId='null'}, retryTimes = 2, errorMessage = Client not connected, current status:UNHEALTHY
2024-10-24 21:30:26.691 [SpringApplicationShutdownHook] ERROR c.a.cloud.nacos.registry.NacosServiceRegistry - ERR_NACOS_DEREGISTER, de-register failed...NacosRegistration{nacosDiscoveryProperties=NacosDiscoveryProperties{serverAddr='192.168.247.138:8848', username='', password='', endpoint='', namespace='xiaochengshu', watchDelay=30000, logName='', service='xiaochengshu-note', weight=1.0, clusterName='DEFAULT', group='DEFAULT_GROUP', namingLoadCacheAtStart='false', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}, registerEnabled=true, ip='192.168.17.1', networkInterface='', port=8086, secure=false, accessKey='', secretKey='', heartBeatInterval=null, heartBeatTimeout=null, ipDeleteTimeout=null, instanceEnabled=true, ephemeral=true, failureToleranceEnabled=false}, ipDeleteTimeout=null, failFast=true}},
com.alibaba.nacos.api.exception.NacosException: Client not connected, current status:UNHEALTHY
	at com.alibaba.nacos.common.remote.client.RpcClient.request(RpcClient.java:643)
	at com.alibaba.nacos.common.remote.client.RpcClient.request(RpcClient.java:623)
	at com.alibaba.nacos.client.naming.remote.gprc.NamingGrpcClientProxy.requestToServer(NamingGrpcClientProxy.java:357)
	at com.alibaba.nacos.client.naming.remote.gprc.NamingGrpcClientProxy.doDeregisterService(NamingGrpcClientProxy.java:234)
	at com.alibaba.nacos.client.naming.remote.gprc.NamingGrpcClientProxy.deregisterService(NamingGrpcClientProxy.java:220)
	at com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate.deregisterService(NamingClientProxyDelegate.java:125)
	at com.alibaba.nacos.client.naming.NacosNamingService.deregisterInstance(NacosNamingService.java:192)
	at com.alibaba.nacos.client.naming.NacosNamingService.deregisterInstance(NacosNamingService.java:182)
	at com.alibaba.cloud.nacos.registry.NacosServiceRegistry.deregister(NacosServiceRegistry.java:107)
	at org.springframework.cloud.client.serviceregistry.AbstractAutoServiceRegistration.deregister(AbstractAutoServiceRegistration.java:281)
	at org.springframework.cloud.client.serviceregistry.AbstractAutoServiceRegistration.stop(AbstractAutoServiceRegistration.java:299)
	at org.springframework.cloud.client.serviceregistry.AbstractAutoServiceRegistration.destroy(AbstractAutoServiceRegistration.java:233)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:424)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:382)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:212)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:191)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1177)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1170)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1082)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1051)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:173)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1001)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:139)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:108)
	at java.base/java.lang.Thread.run(Thread.java:842)
2024-10-24 21:30:26.691 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2024-10-24 21:30:26.691 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2024-10-24 21:30:26.692 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2024-10-24 21:30:26.692 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2024-10-24 21:30:26.692 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2024-10-24 21:30:26.692 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2024-10-24 21:30:26.692 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2024-10-24 21:30:26.692 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2024-10-24 21:30:26.692 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2024-10-24 21:30:26.692 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2024-10-24 21:30:26.692 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2024-10-24 21:30:26.692 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2024-10-24 21:30:26.692 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2024-10-24 21:30:26.692 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2024-10-24 21:30:26.692 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2024-10-24 21:30:26.692 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2024-10-24 21:30:26.692 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2024-10-24 21:30:26.692 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@35158c65[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2024-10-24 21:30:26.692 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1729149737529_192.168.247.1_60185
2024-10-24 21:30:26.693 [com.alibaba.nacos.client.remote.worker] ERROR c.a.nacos.common.remote.client.grpc.GrpcClient - Server check fail, please check server 192.168.247.138 ,port 9848 is available , error ={}
java.lang.InterruptedException: null
	at com.alibaba.nacos.shaded.com.google.common.util.concurrent.AbstractFuture.get(AbstractFuture.java:438)
	at com.alibaba.nacos.common.remote.client.grpc.GrpcClient.serverCheck(GrpcClient.java:218)
	at com.alibaba.nacos.common.remote.client.grpc.GrpcClient.connectToServer(GrpcClient.java:329)
	at com.alibaba.nacos.common.remote.client.RpcClient.reconnect(RpcClient.java:502)
	at com.alibaba.nacos.common.remote.client.RpcClient.lambda$start$2(RpcClient.java:343)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
2024-10-24 21:30:26.693 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1729149737529_192.168.247.1_60185
2024-10-24 21:30:26.693 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [2fa7c83d-13eb-49ee-8f28-f9f7b191892e] Fail to connect server, after trying 1 times, last try server is {serverIp = '192.168.247.138', server main port = 8848}, error = unknown
2024-10-24 21:30:26.694 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@224d37f8[Running, pool size = 11, active threads = 1, queued tasks = 0, completed tasks = 65]
2024-10-24 21:30:26.694 [nacos-grpc-client-executor-192.168.247.138-65] WARN  c.a.nacos.common.remote.client.grpc.GrpcClient - [1729149737529_192.168.247.1_60185]Ignore error event,isRunning:false,isAbandon=false
2024-10-24 21:30:26.694 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@3df4305[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 60]
2024-10-24 21:30:26.694 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2024-10-24 21:30:26.694 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2024-10-24 21:30:26.694 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2024-10-24 21:30:26.695 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='xiaochengshu_group_DeleteNoteLocalCacheTopic', namespace='', nameServer='192.168.247.138:9876', topic='DeleteNoteLocalCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=BROADCASTING', tlsEnable=false, instanceName=DEFAULT}
2024-10-24 21:30:26.895 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [2fa7c83d-13eb-49ee-8f28-f9f7b191892e] Client is shutdown, stop reconnect to server
2024-10-24 21:30:29.068 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[192.168.247.138:10911] result: true
2024-10-24 21:30:29.069 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[192.168.247.138:10911] result: true
2024-10-24 21:30:32.071 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[192.168.247.138:10911] result: true
2024-10-24 21:30:32.189 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2024-10-24 21:30:32.194 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2024-10-24 23:27:39.326 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-10-24 23:27:39.422 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-10-24 23:27:40.195 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-10-24 23:27:40.214 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-10-24 23:27:40.215 [main] INFO  c.s.o.note.biz.OrangeBookNoteBizApplication - The following 1 profile is active: "dev"
2024-10-24 23:27:41.085 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-24 23:27:41.089 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-24 23:27:41.122 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2024-10-24 23:27:41.453 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=80802f0c-02a9-3034-97f3-f69009b0aab3
2024-10-24 23:27:41.504 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.swc.orangeBook.distributed.id.generator.api.DistributedIdGeneratorFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 23:27:41.507 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.swc.orangeBook.kv.api.KeyValueFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 23:27:41.509 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.swc.orangeBook.user.api.UserFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 23:27:41.824 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 23:27:41.957 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 23:27:41.962 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 23:27:41.967 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 23:27:41.969 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$711/0x00000222d54f3a00] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 23:27:41.971 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 23:27:41.982 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 23:27:41.983 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 23:27:42.426 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8086 (http)
2024-10-24 23:27:42.443 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2024-10-24 23:27:42.443 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2024-10-24 23:27:42.617 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-24 23:27:42.617 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2378 ms
2024-10-24 23:27:42.789 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2024-10-24 23:27:43.320 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2024-10-24 23:27:44.154 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaochengshu-distributed-id-generator' URL not provided. Will try picking an instance via load-balancing.
2024-10-24 23:27:44.274 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaochengshu-kv' URL not provided. Will try picking an instance via load-balancing.
2024-10-24 23:27:44.427 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaochengshu-user' URL not provided. Will try picking an instance via load-balancing.
2024-10-24 23:27:45.202 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (xiaochengshu_group) init on namesrv 192.168.247.138:9876
2024-10-24 23:27:45.710 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='xiaochengshu_group_DeleteNoteLocalCacheTopic', namespace='', nameServer='192.168.247.138:9876', topic='DeleteNoteLocalCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=BROADCASTING', tlsEnable=false, instanceName=DEFAULT}
2024-10-24 23:27:45.711 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:deleteNoteLocalCacheConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2024-10-24 23:27:47.365 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8086 (http) with context path ''
2024-10-24 23:27:47.376 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-10-24 23:27:47.376 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2024-10-24 23:27:47.377 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2024-10-24 23:27:47.378 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2024-10-24 23:27:47.414 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2024-10-24 23:27:47.415 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2024-10-24 23:27:47.417 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2024-10-24 23:27:47.427 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2024-10-24 23:27:47.427 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2024-10-24 23:27:47.433 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2024-10-24 23:27:47.446 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of b98d9549-5670-4c6d-b1e5-4e077f59b984
2024-10-24 23:27:47.480 [main] INFO  com.alibaba.nacos.common.remote.client - [b98d9549-5670-4c6d-b1e5-4e077f59b984] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2024-10-24 23:27:47.480 [main] INFO  com.alibaba.nacos.common.remote.client - [b98d9549-5670-4c6d-b1e5-4e077f59b984] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2024-10-24 23:27:47.481 [main] INFO  com.alibaba.nacos.common.remote.client - [b98d9549-5670-4c6d-b1e5-4e077f59b984] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2024-10-24 23:27:47.485 [main] INFO  com.alibaba.nacos.common.remote.client - [b98d9549-5670-4c6d-b1e5-4e077f59b984] Try to connect to server on start up, server: {serverIp = '192.168.247.138', server main port = 8848}
2024-10-24 23:27:47.527 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:192.168.247.138 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2024-10-24 23:27:48.993 [main] INFO  com.alibaba.nacos.common.remote.client - [b98d9549-5670-4c6d-b1e5-4e077f59b984] Success to connect to server [192.168.247.138:8848] on start up, connectionId = 1729153387776_192.168.247.1_53648
2024-10-24 23:27:48.994 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [b98d9549-5670-4c6d-b1e5-4e077f59b984] Notify connected event to listeners.
2024-10-24 23:27:48.994 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2024-10-24 23:27:48.994 [main] INFO  com.alibaba.nacos.common.remote.client - [b98d9549-5670-4c6d-b1e5-4e077f59b984] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2024-10-24 23:27:48.995 [main] INFO  com.alibaba.nacos.common.remote.client - [b98d9549-5670-4c6d-b1e5-4e077f59b984] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$1280/0x00000222d59bd428
2024-10-24 23:27:48.996 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaochengshu registering service xiaochengshu-note with instance Instance{instanceId='null', ip='192.168.17.1', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2024-10-24 23:27:49.018 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaochengshu-note 192.168.17.1:8086 register finished
2024-10-24 23:27:49.323 [main] INFO  c.s.o.note.biz.OrangeBookNoteBizApplication - Started OrangeBookNoteBizApplication in 11.02 seconds (process running for 11.896)
2024-10-24 23:28:28.704 [http-nio-8086-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-24 23:28:28.704 [http-nio-8086-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-24 23:28:28.706 [http-nio-8086-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-24 23:28:28.714 [http-nio-8086-exec-1] INFO  c.s.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: 109
2024-10-24 23:28:28.714 [http-nio-8086-exec-1] INFO  c.s.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 109
2024-10-24 23:28:28.839 [http-nio-8086-exec-1] INFO  c.s.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记发布], 入参: {"type":1,"imgUris":null,"videoUri":"http://116.62.199.48:9000/weblog/c89cc6b66f0341c0b7854771ae063eac.jpg","title":"图文笔记测试标题111111","content":"图文笔记测试内容222222","topicId":1}, 请求类: controller.com.swc.orangeBook.count.biz.NoteController, 请求方法: publishNote ===================================
2024-10-24 23:28:28.844 [http-nio-8086-exec-1] INFO  c.s.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 109
2024-10-24 23:28:28.919 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:xiaochengshu-distributed-id-generator, group:DEFAULT_GROUP, clusters: 
2024-10-24 23:28:28.934 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@xiaochengshu-distributed-id-generator -> [{"ip":"192.168.17.1","port":8085,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@xiaochengshu-distributed-id-generator","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2024-10-24 23:28:28.944 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@xiaochengshu-distributed-id-generator -> [{"ip":"192.168.17.1","port":8085,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@xiaochengshu-distributed-id-generator","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2024-10-24 23:28:29.090 [http-nio-8086-exec-1] INFO  c.s.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 109
2024-10-24 23:28:29.105 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:xiaochengshu-kv, group:DEFAULT_GROUP, clusters: 
2024-10-24 23:28:29.140 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@xiaochengshu-kv -> [{"ip":"192.168.17.1","port":8084,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@xiaochengshu-kv","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2024-10-24 23:28:29.140 [http-nio-8086-exec-1] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@xiaochengshu-kv -> [{"ip":"192.168.17.1","port":8084,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@xiaochengshu-kv","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2024-10-24 23:28:29.440 [http-nio-8086-exec-1] DEBUG c.s.o.n.b.d.m.TopicDOMapper.selectNameByPrimaryKey - ==>  Preparing: select name from t_topic where id = ?
2024-10-24 23:28:29.451 [nacos-grpc-client-executor-192.168.247.138-28] INFO  com.alibaba.nacos.common.remote.client - [b98d9549-5670-4c6d-b1e5-4e077f59b984] Receive server push request, request = NotifySubscriberRequest, requestId = 1300
2024-10-24 23:28:29.451 [nacos-grpc-client-executor-192.168.247.138-28] INFO  com.alibaba.nacos.common.remote.client - [b98d9549-5670-4c6d-b1e5-4e077f59b984] Ack server push request, request = NotifySubscriberRequest, requestId = 1300
2024-10-24 23:28:29.622 [nacos-grpc-client-executor-192.168.247.138-29] INFO  com.alibaba.nacos.common.remote.client - [b98d9549-5670-4c6d-b1e5-4e077f59b984] Receive server push request, request = NotifySubscriberRequest, requestId = 1301
2024-10-24 23:28:29.622 [nacos-grpc-client-executor-192.168.247.138-29] INFO  com.alibaba.nacos.common.remote.client - [b98d9549-5670-4c6d-b1e5-4e077f59b984] Ack server push request, request = NotifySubscriberRequest, requestId = 1301
2024-10-24 23:28:29.635 [http-nio-8086-exec-1] DEBUG c.s.o.n.b.d.m.TopicDOMapper.selectNameByPrimaryKey - ==> Parameters: 1(Long)
2024-10-24 23:28:29.676 [http-nio-8086-exec-1] DEBUG c.s.o.n.b.d.m.TopicDOMapper.selectNameByPrimaryKey - <==      Total: 0
2024-10-24 23:28:29.680 [http-nio-8086-exec-1] DEBUG c.s.o.note.biz.domain.mapper.NoteDOMapper.insert - ==>  Preparing: insert into t_note (id, title, is_content_empty, creator_id, topic_id, topic_name, is_top, `type`, img_uris, video_uri, visible, create_time, update_time, `status`, content_uuid) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-10-24 23:28:29.781 [http-nio-8086-exec-1] DEBUG c.s.o.note.biz.domain.mapper.NoteDOMapper.insert - ==> Parameters: 1849473040467886111(Long), 图文笔记测试标题111111(String), false(Boolean), 109(Long), 1(Long), null, false(Boolean), 1(Integer), null, http://116.62.199.48:9000/weblog/c89cc6b66f0341c0b7854771ae063eac.jpg(String), 0(Integer), 2024-10-24T23:28:29.679413500(LocalDateTime), 2024-10-24T23:28:29.679413500(LocalDateTime), 1(Integer), 5ee83b80-09d5-43eb-a084-46c90981ff58(String)
2024-10-24 23:28:29.830 [http-nio-8086-exec-1] DEBUG c.s.o.note.biz.domain.mapper.NoteDOMapper.insert - <==    Updates: 1
2024-10-24 23:28:29.831 [http-nio-8086-exec-1] INFO  c.s.o.note.biz.service.impl.NoteServiceImpl - ==> 笔记存储成功:NoteDO(id=1849473040467886111, title=图文笔记测试标题111111, isContentEmpty=false, creatorId=109, topicId=1, topicName=null, isTop=false, type=1, imgUris=null, videoUri=http://116.62.199.48:9000/weblog/c89cc6b66f0341c0b7854771ae063eac.jpg, visible=0, createTime=2024-10-24T23:28:29.679413500, updateTime=2024-10-24T23:28:29.679413500, status=1, contentUuid=5ee83b80-09d5-43eb-a084-46c90981ff58)
2024-10-24 23:28:29.837 [http-nio-8086-exec-1] INFO  c.s.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [笔记发布], 耗时: 999ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2024-10-24 23:28:29.850 [http-nio-8086-exec-1] INFO  c.s.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 109
2024-10-24 23:29:25.506 [http-nio-8086-exec-2] INFO  c.s.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: 111
2024-10-24 23:29:25.507 [http-nio-8086-exec-2] INFO  c.s.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 111
2024-10-24 23:29:25.512 [http-nio-8086-exec-2] INFO  c.s.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [点赞笔记], 入参: {"id":1849473040467886111}, 请求类: controller.com.swc.orangeBook.count.biz.NoteController, 请求方法: likeNote ===================================
2024-10-24 23:29:25.790 [http-nio-8086-exec-2] DEBUG c.s.o.n.b.d.m.NoteDOMapper.selectCountByNoteId - ==>  Preparing: select count(1) from t_note where id = ? where status = 1
2024-10-24 23:29:25.794 [http-nio-8086-exec-2] ERROR com.alibaba.druid.filter.stat.StatFilter - merge sql error, dbType mysql, druid-1.2.23, sql : select count(1) from t_note where id = ? where status = 1
com.alibaba.druid.sql.parser.ParserException: not supported.pos 46, line 1, column 41, token WHERE
	at com.alibaba.druid.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:654)
	at com.alibaba.druid.sql.parser.SQLStatementParser.parseStatementList(SQLStatementParser.java:106)
	at com.alibaba.druid.sql.visitor.ParameterizedOutputVisitorUtils.parameterize(ParameterizedOutputVisitorUtils.java:164)
	at com.alibaba.druid.sql.visitor.ParameterizedOutputVisitorUtils.parameterize(ParameterizedOutputVisitorUtils.java:135)
	at com.alibaba.druid.filter.stat.StatFilter.mergeSql(StatFilter.java:158)
	at com.alibaba.druid.filter.stat.StatFilter.createSqlStat(StatFilter.java:692)
	at com.alibaba.druid.filter.stat.StatFilter.statementPrepareAfter(StatFilter.java:339)
	at com.alibaba.druid.filter.FilterEventAdapter.connection_prepareStatement(FilterEventAdapter.java:118)
	at com.alibaba.druid.filter.FilterChainImpl.connection_prepareStatement(FilterChainImpl.java:547)
	at com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl.prepareStatement(ConnectionProxyImpl.java:328)
	at com.alibaba.druid.pool.DruidPooledConnection.prepareStatement(DruidPooledConnection.java:369)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.ConnectionLogger.invoke(ConnectionLogger.java:53)
	at jdk.proxy3/jdk.proxy3.$Proxy125.prepareStatement(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.instantiateStatement(PreparedStatementHandler.java:88)
	at org.apache.ibatis.executor.statement.BaseStatementHandler.prepare(BaseStatementHandler.java:90)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.prepare(RoutingStatementHandler.java:60)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:90)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:64)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:333)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:75)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	at jdk.proxy2/jdk.proxy2.$Proxy85.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:160)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:87)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy86.selectCountByNoteId(Unknown Source)
	at impl.service.com.swc.orangeBook.count.biz.NoteServiceImpl.checkNoteIsExist(NoteServiceImpl.java:735)
	at impl.service.com.swc.orangeBook.count.biz.NoteServiceImpl.likeNote(NoteServiceImpl.java:575)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:699)
	at impl.service.com.swc.orangeBook.count.biz.NoteServiceImpl$$SpringCGLIB$$0.likeNote(<generated>)
	at controller.com.swc.orangeBook.count.biz.NoteController.likeNote(NoteController.java:66)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.swc.framework.biz.operationlog.aspect.ApiOperationLogAspect.doAround(ApiOperationLogAspect.java:56)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:623)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at controller.com.swc.orangeBook.count.biz.NoteController$$SpringCGLIB$$0.likeNote(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:547)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at com.swc.framework.biz.context.filter.HeaderUserId2ContextFilter.doFilterInternal(HeaderUserId2ContextFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at com.alibaba.druid.support.jakarta.WebStatFilter.doFilter(WebStatFilter.java:113)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
2024-10-24 23:29:25.801 [http-nio-8086-exec-2] DEBUG c.s.o.n.b.d.m.NoteDOMapper.selectCountByNoteId - ==> Parameters: 1849473040467886111(Long)
2024-10-24 23:29:25.863 [http-nio-8086-exec-2] ERROR c.s.o.note.biz.exception.GlobalExceptionHandler - /note/like request error, 
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'where status = 1' at line 1
### The error may exist in file [E:\Code\Projects\orangeBook\orangeBook-note\orangeBook-note-biz\target\classes\mapper\NoteDOMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: select count(1) from t_note where id = ? where status = 1
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'where status = 1' at line 1
; bad SQL grammar []
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:245)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy85.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:160)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:87)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy86.selectCountByNoteId(Unknown Source)
	at impl.service.com.swc.orangeBook.count.biz.NoteServiceImpl.checkNoteIsExist(NoteServiceImpl.java:735)
	at impl.service.com.swc.orangeBook.count.biz.NoteServiceImpl.likeNote(NoteServiceImpl.java:575)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:699)
	at impl.service.com.swc.orangeBook.count.biz.NoteServiceImpl$$SpringCGLIB$$0.likeNote(<generated>)
	at controller.com.swc.orangeBook.count.biz.NoteController.likeNote(NoteController.java:66)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.swc.framework.biz.operationlog.aspect.ApiOperationLogAspect.doAround(ApiOperationLogAspect.java:56)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:623)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at controller.com.swc.orangeBook.count.biz.NoteController$$SpringCGLIB$$0.likeNote(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:547)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at com.swc.framework.biz.context.filter.HeaderUserId2ContextFilter.doFilterInternal(HeaderUserId2ContextFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at com.alibaba.druid.support.jakarta.WebStatFilter.doFilter(WebStatFilter.java:113)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'where status = 1' at line 1
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3462)
	at com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1063)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:434)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:158)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy126.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:333)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:75)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 97 common frames omitted
2024-10-24 23:29:25.867 [http-nio-8086-exec-2] INFO  c.s.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 111
2024-10-24 23:32:40.066 [Thread-12] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2024-10-24 23:32:40.066 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2024-10-24 23:32:40.066 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2024-10-24 23:32:40.067 [Thread-12] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2024-10-24 23:32:40.109 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[192.168.247.138:9876] result: true
2024-10-24 23:32:40.111 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[192.168.247.138:10911] result: true
2024-10-24 23:32:40.152 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2024-10-24 23:32:40.152 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaochengshu deregistering service xiaochengshu-note with instance: Instance{instanceId='null', ip='192.168.17.1', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2024-10-24 23:32:40.158 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2024-10-24 23:32:40.159 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2024-10-24 23:32:40.159 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2024-10-24 23:32:40.159 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2024-10-24 23:32:40.159 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2024-10-24 23:32:40.159 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2024-10-24 23:32:40.159 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2024-10-24 23:32:40.159 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2024-10-24 23:32:40.160 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2024-10-24 23:32:40.160 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2024-10-24 23:32:40.160 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2024-10-24 23:32:40.160 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2024-10-24 23:32:40.160 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2024-10-24 23:32:40.160 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2024-10-24 23:32:40.160 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2024-10-24 23:32:40.160 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2024-10-24 23:32:40.160 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2024-10-24 23:32:40.160 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@548c7c8d[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2024-10-24 23:32:40.160 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1729153387776_192.168.247.1_53648
2024-10-24 23:32:40.163 [nacos-grpc-client-executor-192.168.247.138-87] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1729153387776_192.168.247.1_53648]Ignore complete event,isRunning:false,isAbandon=false
2024-10-24 23:32:40.169 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@7268da61[Running, pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 88]
2024-10-24 23:32:40.169 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@75e608a5[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 97]
2024-10-24 23:32:40.169 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2024-10-24 23:32:40.169 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2024-10-24 23:32:40.170 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2024-10-24 23:32:40.170 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='xiaochengshu_group_DeleteNoteLocalCacheTopic', namespace='', nameServer='192.168.247.138:9876', topic='DeleteNoteLocalCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=BROADCASTING', tlsEnable=false, instanceName=DEFAULT}
2024-10-24 23:32:40.181 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[192.168.247.138:9876] result: true
2024-10-24 23:32:40.181 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[192.168.247.138:10911] result: true
2024-10-24 23:32:40.298 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2024-10-24 23:32:40.306 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2024-10-24 23:32:43.951 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-10-24 23:32:44.040 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-10-24 23:32:44.580 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-10-24 23:32:44.594 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-10-24 23:32:44.595 [main] INFO  c.s.o.note.biz.OrangeBookNoteBizApplication - The following 1 profile is active: "dev"
2024-10-24 23:32:45.294 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-24 23:32:45.297 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-24 23:32:45.319 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2024-10-24 23:32:45.549 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=80802f0c-02a9-3034-97f3-f69009b0aab3
2024-10-24 23:32:45.579 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.swc.orangeBook.distributed.id.generator.api.DistributedIdGeneratorFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 23:32:45.580 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.swc.orangeBook.kv.api.KeyValueFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 23:32:45.582 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.swc.orangeBook.user.api.UserFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 23:32:45.815 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 23:32:45.882 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 23:32:45.885 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 23:32:45.889 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 23:32:45.890 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$711/0x00000145814f52f0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 23:32:45.892 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 23:32:45.899 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 23:32:45.900 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 23:32:46.215 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8086 (http)
2024-10-24 23:32:46.228 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2024-10-24 23:32:46.228 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2024-10-24 23:32:46.359 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-24 23:32:46.359 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1745 ms
2024-10-24 23:32:46.489 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2024-10-24 23:32:46.822 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2024-10-24 23:32:47.147 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaochengshu-distributed-id-generator' URL not provided. Will try picking an instance via load-balancing.
2024-10-24 23:32:47.209 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaochengshu-kv' URL not provided. Will try picking an instance via load-balancing.
2024-10-24 23:32:47.235 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaochengshu-user' URL not provided. Will try picking an instance via load-balancing.
2024-10-24 23:32:47.755 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (xiaochengshu_group) init on namesrv 192.168.247.138:9876
2024-10-24 23:32:48.131 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='xiaochengshu_group_DeleteNoteLocalCacheTopic', namespace='', nameServer='192.168.247.138:9876', topic='DeleteNoteLocalCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=BROADCASTING', tlsEnable=false, instanceName=DEFAULT}
2024-10-24 23:32:48.132 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:deleteNoteLocalCacheConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2024-10-24 23:32:49.271 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8086 (http) with context path ''
2024-10-24 23:32:49.282 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-10-24 23:32:49.282 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2024-10-24 23:32:49.283 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2024-10-24 23:32:49.284 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2024-10-24 23:32:49.321 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2024-10-24 23:32:49.321 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2024-10-24 23:32:49.322 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2024-10-24 23:32:49.329 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2024-10-24 23:32:49.330 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2024-10-24 23:32:49.335 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2024-10-24 23:32:49.353 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 4ae88f7b-bf21-469c-9699-9e9a089e83c9
2024-10-24 23:32:49.384 [main] INFO  com.alibaba.nacos.common.remote.client - [4ae88f7b-bf21-469c-9699-9e9a089e83c9] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2024-10-24 23:32:49.384 [main] INFO  com.alibaba.nacos.common.remote.client - [4ae88f7b-bf21-469c-9699-9e9a089e83c9] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2024-10-24 23:32:49.385 [main] INFO  com.alibaba.nacos.common.remote.client - [4ae88f7b-bf21-469c-9699-9e9a089e83c9] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2024-10-24 23:32:49.387 [main] INFO  com.alibaba.nacos.common.remote.client - [4ae88f7b-bf21-469c-9699-9e9a089e83c9] Try to connect to server on start up, server: {serverIp = '192.168.247.138', server main port = 8848}
2024-10-24 23:32:49.426 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:192.168.247.138 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2024-10-24 23:32:50.620 [main] INFO  com.alibaba.nacos.common.remote.client - [4ae88f7b-bf21-469c-9699-9e9a089e83c9] Success to connect to server [192.168.247.138:8848] on start up, connectionId = 1729153714552_192.168.247.1_53942
2024-10-24 23:32:50.620 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [4ae88f7b-bf21-469c-9699-9e9a089e83c9] Notify connected event to listeners.
2024-10-24 23:32:50.621 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2024-10-24 23:32:50.621 [main] INFO  com.alibaba.nacos.common.remote.client - [4ae88f7b-bf21-469c-9699-9e9a089e83c9] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2024-10-24 23:32:50.621 [main] INFO  com.alibaba.nacos.common.remote.client - [4ae88f7b-bf21-469c-9699-9e9a089e83c9] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$1280/0x00000145819be200
2024-10-24 23:32:50.622 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaochengshu registering service xiaochengshu-note with instance Instance{instanceId='null', ip='192.168.17.1', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2024-10-24 23:32:50.637 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaochengshu-note 192.168.17.1:8086 register finished
2024-10-24 23:32:50.838 [main] INFO  c.s.o.note.biz.OrangeBookNoteBizApplication - Started OrangeBookNoteBizApplication in 8.069 seconds (process running for 8.779)
2024-10-24 23:32:56.127 [http-nio-8086-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-24 23:32:56.128 [http-nio-8086-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-24 23:32:56.130 [http-nio-8086-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-24 23:32:56.139 [http-nio-8086-exec-1] INFO  c.s.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: 111
2024-10-24 23:32:56.139 [http-nio-8086-exec-1] INFO  c.s.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 111
2024-10-24 23:32:56.245 [http-nio-8086-exec-1] INFO  c.s.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [点赞笔记], 入参: {"id":1849473040467886111}, 请求类: controller.com.swc.orangeBook.count.biz.NoteController, 请求方法: likeNote ===================================
2024-10-24 23:32:56.550 [http-nio-8086-exec-1] DEBUG c.s.o.n.b.d.m.NoteDOMapper.selectCountByNoteId - ==>  Preparing: select count(1) from t_note where id = ? and status = 1
2024-10-24 23:32:56.730 [http-nio-8086-exec-1] DEBUG c.s.o.n.b.d.m.NoteDOMapper.selectCountByNoteId - ==> Parameters: 1849473040467886111(Long)
2024-10-24 23:32:56.760 [http-nio-8086-exec-1] DEBUG c.s.o.n.b.d.m.NoteDOMapper.selectCountByNoteId - <==      Total: 1
2024-10-24 23:32:56.766 [task-1] DEBUG c.s.o.n.b.d.mapper.NoteDOMapper.selectByPrimaryKey - ==>  Preparing: select id, title, is_content_empty, creator_id, topic_id, topic_name, is_top, `type`, img_uris, video_uri, visible, create_time, update_time, `status`, content_uuid from t_note where id = ? and status=1
2024-10-24 23:32:56.768 [task-1] DEBUG c.s.o.n.b.d.mapper.NoteDOMapper.selectByPrimaryKey - ==> Parameters: 1849473040467886111(Long)
2024-10-24 23:32:56.774 [task-1] DEBUG c.s.o.n.b.d.mapper.NoteDOMapper.selectByPrimaryKey - <==      Total: 1
2024-10-24 23:32:56.785 [task-3] INFO  c.s.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 111
2024-10-24 23:32:56.785 [task-2] INFO  c.s.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 111
2024-10-24 23:32:56.849 [http-nio-8086-exec-1] ERROR c.s.o.note.biz.exception.GlobalExceptionHandler - /note/like request error, 
java.lang.NullPointerException: Cannot invoke "enums.com.swc.orangeBook.count.biz.NoteLikeLuaResultEnum.ordinal()" because "noteLikeLuaResultEnum" is null
	at impl.service.com.swc.orangeBook.count.biz.NoteServiceImpl.likeNote(NoteServiceImpl.java:596)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:699)
	at impl.service.com.swc.orangeBook.count.biz.NoteServiceImpl$$SpringCGLIB$$0.likeNote(<generated>)
	at controller.com.swc.orangeBook.count.biz.NoteController.likeNote(NoteController.java:66)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.swc.framework.biz.operationlog.aspect.ApiOperationLogAspect.doAround(ApiOperationLogAspect.java:56)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:623)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at controller.com.swc.orangeBook.count.biz.NoteController$$SpringCGLIB$$0.likeNote(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:547)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at com.swc.framework.biz.context.filter.HeaderUserId2ContextFilter.doFilterInternal(HeaderUserId2ContextFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at com.alibaba.druid.support.jakarta.WebStatFilter.doFilter(WebStatFilter.java:113)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
2024-10-24 23:32:56.864 [task-3] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:xiaochengshu-kv, group:DEFAULT_GROUP, clusters: 
2024-10-24 23:32:56.864 [task-2] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:xiaochengshu-user, group:DEFAULT_GROUP, clusters: 
2024-10-24 23:32:56.868 [http-nio-8086-exec-1] INFO  c.s.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 111
2024-10-24 23:32:56.883 [task-2] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@xiaochengshu-user -> [{"ip":"192.168.17.1","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@xiaochengshu-user","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2024-10-24 23:32:56.883 [task-3] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@xiaochengshu-kv -> [{"ip":"192.168.17.1","port":8084,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@xiaochengshu-kv","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2024-10-24 23:32:56.895 [task-3] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@xiaochengshu-kv -> [{"ip":"192.168.17.1","port":8084,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@xiaochengshu-kv","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2024-10-24 23:32:56.895 [task-2] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@xiaochengshu-user -> [{"ip":"192.168.17.1","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@xiaochengshu-user","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2024-10-24 23:32:57.433 [nacos-grpc-client-executor-192.168.247.138-13] INFO  com.alibaba.nacos.common.remote.client - [4ae88f7b-bf21-469c-9699-9e9a089e83c9] Receive server push request, request = NotifySubscriberRequest, requestId = 1356
2024-10-24 23:32:57.434 [nacos-grpc-client-executor-192.168.247.138-13] INFO  com.alibaba.nacos.common.remote.client - [4ae88f7b-bf21-469c-9699-9e9a089e83c9] Ack server push request, request = NotifySubscriberRequest, requestId = 1356
2024-10-24 23:32:57.436 [nacos-grpc-client-executor-192.168.247.138-14] INFO  com.alibaba.nacos.common.remote.client - [4ae88f7b-bf21-469c-9699-9e9a089e83c9] Receive server push request, request = NotifySubscriberRequest, requestId = 1357
2024-10-24 23:32:57.437 [nacos-grpc-client-executor-192.168.247.138-14] INFO  com.alibaba.nacos.common.remote.client - [4ae88f7b-bf21-469c-9699-9e9a089e83c9] Ack server push request, request = NotifySubscriberRequest, requestId = 1357
2024-10-24 23:34:22.434 [http-nio-8086-exec-3] INFO  c.s.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: 111
2024-10-24 23:34:22.434 [http-nio-8086-exec-3] INFO  c.s.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 111
2024-10-24 23:34:22.436 [http-nio-8086-exec-3] INFO  c.s.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [点赞笔记], 入参: {"id":1846789498420068425}, 请求类: controller.com.swc.orangeBook.count.biz.NoteController, 请求方法: likeNote ===================================
2024-10-24 23:34:22.454 [http-nio-8086-exec-3] DEBUG c.s.o.n.b.d.m.NoteLikeDOMapper.selectNoteIsLiked - ==>  Preparing: select count(1) from t_note_like where user_id = ? and note_id = ? and status = 1 limit 1
2024-10-24 23:34:22.458 [http-nio-8086-exec-3] DEBUG c.s.o.n.b.d.m.NoteLikeDOMapper.selectNoteIsLiked - ==> Parameters: 111(Long), 1846789498420068425(Long)
2024-10-24 23:34:22.465 [http-nio-8086-exec-3] DEBUG c.s.o.n.b.d.m.NoteLikeDOMapper.selectNoteIsLiked - <==      Total: 1
2024-10-24 23:34:22.481 [http-nio-8086-exec-3] DEBUG c.s.o.n.b.d.m.N.selectLikedByUserIdAndLimit - ==>  Preparing: select note_id, create_time from t_note_like where user_id = ? and status = 1 order by create_time desc limit ?
2024-10-24 23:34:22.484 [http-nio-8086-exec-3] DEBUG c.s.o.n.b.d.m.N.selectLikedByUserIdAndLimit - ==> Parameters: 111(Long), 100(Integer)
2024-10-24 23:34:22.487 [http-nio-8086-exec-3] DEBUG c.s.o.n.b.d.m.N.selectLikedByUserIdAndLimit - <==      Total: 0
2024-10-24 23:34:22.491 [http-nio-8086-exec-3] INFO  c.s.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [点赞笔记], 耗时: 55ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2024-10-24 23:34:22.494 [http-nio-8086-exec-3] INFO  c.s.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 111
2024-10-24 23:36:23.780 [http-nio-8086-exec-7] INFO  c.s.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: 111
2024-10-24 23:36:23.781 [http-nio-8086-exec-7] INFO  c.s.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 111
2024-10-24 23:36:23.782 [http-nio-8086-exec-7] INFO  c.s.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [点赞笔记], 入参: {"id":1846789498420068425}, 请求类: controller.com.swc.orangeBook.count.biz.NoteController, 请求方法: likeNote ===================================
2024-10-24 23:36:23.788 [http-nio-8086-exec-7] DEBUG c.s.o.n.b.d.m.NoteLikeDOMapper.selectNoteIsLiked - ==>  Preparing: select count(1) from t_note_like where user_id = ? and note_id = ? and status = 1 limit 1
2024-10-24 23:36:23.789 [http-nio-8086-exec-7] DEBUG c.s.o.n.b.d.m.NoteLikeDOMapper.selectNoteIsLiked - ==> Parameters: 111(Long), 1846789498420068425(Long)
2024-10-24 23:36:23.792 [http-nio-8086-exec-7] DEBUG c.s.o.n.b.d.m.NoteLikeDOMapper.selectNoteIsLiked - <==      Total: 1
2024-10-24 23:36:23.793 [task-5] DEBUG c.s.o.n.b.d.m.N.selectLikedByUserIdAndLimit - ==>  Preparing: select note_id, create_time from t_note_like where user_id = ? and status = 1 order by create_time desc limit ?
2024-10-24 23:36:23.793 [task-5] DEBUG c.s.o.n.b.d.m.N.selectLikedByUserIdAndLimit - ==> Parameters: 111(Long), 100(Integer)
2024-10-24 23:36:23.793 [http-nio-8086-exec-7] WARN  c.s.o.note.biz.exception.GlobalExceptionHandler - /note/like request fail, errorCode: NOTE-20008, errorMessage: 您已经点赞过该笔记
2024-10-24 23:36:23.794 [http-nio-8086-exec-7] INFO  c.s.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 111
2024-10-24 23:36:23.796 [task-5] DEBUG c.s.o.n.b.d.m.N.selectLikedByUserIdAndLimit - <==      Total: 1
2024-10-24 23:37:42.894 [Thread-12] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2024-10-24 23:37:42.894 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2024-10-24 23:37:42.894 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2024-10-24 23:37:42.895 [Thread-12] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2024-10-24 23:37:42.904 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[192.168.247.138:9876] result: true
2024-10-24 23:37:42.905 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[192.168.247.138:10911] result: true
2024-10-24 23:37:42.953 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2024-10-24 23:37:42.953 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaochengshu deregistering service xiaochengshu-note with instance: Instance{instanceId='null', ip='192.168.17.1', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2024-10-24 23:37:42.958 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2024-10-24 23:37:42.959 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2024-10-24 23:37:42.959 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2024-10-24 23:37:42.960 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2024-10-24 23:37:42.960 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2024-10-24 23:37:42.960 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2024-10-24 23:37:42.960 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2024-10-24 23:37:42.960 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2024-10-24 23:37:42.960 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2024-10-24 23:37:42.960 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2024-10-24 23:37:42.960 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2024-10-24 23:37:42.960 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2024-10-24 23:37:42.960 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2024-10-24 23:37:42.960 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2024-10-24 23:37:42.960 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2024-10-24 23:37:42.960 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2024-10-24 23:37:42.961 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2024-10-24 23:37:42.961 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@163b9532[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2024-10-24 23:37:42.961 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1729153714552_192.168.247.1_53942
2024-10-24 23:37:42.963 [nacos-grpc-client-executor-192.168.247.138-85] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1729153714552_192.168.247.1_53942]Ignore complete event,isRunning:false,isAbandon=false
2024-10-24 23:37:42.968 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@37f6f373[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 86]
2024-10-24 23:37:42.968 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@74ee72f6[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 97]
2024-10-24 23:37:42.969 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2024-10-24 23:37:42.969 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2024-10-24 23:37:42.969 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2024-10-24 23:37:42.969 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='xiaochengshu_group_DeleteNoteLocalCacheTopic', namespace='', nameServer='192.168.247.138:9876', topic='DeleteNoteLocalCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=BROADCASTING', tlsEnable=false, instanceName=DEFAULT}
2024-10-24 23:37:42.976 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[192.168.247.138:9876] result: true
2024-10-24 23:37:42.976 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[192.168.247.138:10911] result: true
2024-10-24 23:37:43.095 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2024-10-24 23:37:43.102 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2024-10-24 23:37:49.559 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-10-24 23:37:49.639 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-10-24 23:37:50.226 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-10-24 23:37:50.241 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-10-24 23:37:50.242 [main] INFO  c.s.o.note.biz.OrangeBookNoteBizApplication - The following 1 profile is active: "dev"
2024-10-24 23:37:50.938 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-24 23:37:50.941 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-24 23:37:50.968 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2024-10-24 23:37:51.223 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=80802f0c-02a9-3034-97f3-f69009b0aab3
2024-10-24 23:37:51.252 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.swc.orangeBook.distributed.id.generator.api.DistributedIdGeneratorFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 23:37:51.253 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.swc.orangeBook.kv.api.KeyValueFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 23:37:51.255 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.swc.orangeBook.user.api.UserFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 23:37:51.489 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 23:37:51.556 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 23:37:51.558 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 23:37:51.562 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 23:37:51.563 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$711/0x00000224814f52f0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 23:37:51.565 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 23:37:51.571 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 23:37:51.572 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 23:37:51.872 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8086 (http)
2024-10-24 23:37:51.884 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2024-10-24 23:37:51.885 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2024-10-24 23:37:52.009 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-24 23:37:52.009 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1749 ms
2024-10-24 23:37:52.139 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2024-10-24 23:37:52.462 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2024-10-24 23:37:52.784 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaochengshu-distributed-id-generator' URL not provided. Will try picking an instance via load-balancing.
2024-10-24 23:37:52.842 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaochengshu-kv' URL not provided. Will try picking an instance via load-balancing.
2024-10-24 23:37:52.864 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaochengshu-user' URL not provided. Will try picking an instance via load-balancing.
2024-10-24 23:37:53.325 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (xiaochengshu_group) init on namesrv 192.168.247.138:9876
2024-10-24 23:37:53.645 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='xiaochengshu_group_DeleteNoteLocalCacheTopic', namespace='', nameServer='192.168.247.138:9876', topic='DeleteNoteLocalCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=BROADCASTING', tlsEnable=false, instanceName=DEFAULT}
2024-10-24 23:37:53.645 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:deleteNoteLocalCacheConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2024-10-24 23:37:54.676 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8086 (http) with context path ''
2024-10-24 23:37:54.684 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-10-24 23:37:54.684 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2024-10-24 23:37:54.685 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2024-10-24 23:37:54.686 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2024-10-24 23:37:54.715 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2024-10-24 23:37:54.715 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2024-10-24 23:37:54.716 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2024-10-24 23:37:54.720 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2024-10-24 23:37:54.721 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2024-10-24 23:37:54.724 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2024-10-24 23:37:54.735 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 8003826d-6239-404c-8a0e-f73384c3782b
2024-10-24 23:37:54.760 [main] INFO  com.alibaba.nacos.common.remote.client - [8003826d-6239-404c-8a0e-f73384c3782b] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2024-10-24 23:37:54.761 [main] INFO  com.alibaba.nacos.common.remote.client - [8003826d-6239-404c-8a0e-f73384c3782b] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2024-10-24 23:37:54.761 [main] INFO  com.alibaba.nacos.common.remote.client - [8003826d-6239-404c-8a0e-f73384c3782b] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2024-10-24 23:37:54.763 [main] INFO  com.alibaba.nacos.common.remote.client - [8003826d-6239-404c-8a0e-f73384c3782b] Try to connect to server on start up, server: {serverIp = '192.168.247.138', server main port = 8848}
2024-10-24 23:37:54.792 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:192.168.247.138 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2024-10-24 23:37:55.854 [main] INFO  com.alibaba.nacos.common.remote.client - [8003826d-6239-404c-8a0e-f73384c3782b] Success to connect to server [192.168.247.138:8848] on start up, connectionId = 1729154045248_192.168.247.1_59516
2024-10-24 23:37:55.854 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [8003826d-6239-404c-8a0e-f73384c3782b] Notify connected event to listeners.
2024-10-24 23:37:55.855 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2024-10-24 23:37:55.855 [main] INFO  com.alibaba.nacos.common.remote.client - [8003826d-6239-404c-8a0e-f73384c3782b] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2024-10-24 23:37:55.856 [main] INFO  com.alibaba.nacos.common.remote.client - [8003826d-6239-404c-8a0e-f73384c3782b] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$1280/0x00000224819be608
2024-10-24 23:37:55.857 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaochengshu registering service xiaochengshu-note with instance Instance{instanceId='null', ip='192.168.17.1', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2024-10-24 23:37:55.870 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaochengshu-note 192.168.17.1:8086 register finished
2024-10-24 23:37:56.060 [main] INFO  c.s.o.note.biz.OrangeBookNoteBizApplication - Started OrangeBookNoteBizApplication in 7.308 seconds (process running for 8.137)
2024-10-24 23:49:28.291 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2024-10-24 23:49:28.291 [Thread-12] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2024-10-24 23:49:28.291 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2024-10-24 23:49:28.292 [Thread-12] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2024-10-24 23:49:28.314 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[192.168.247.138:9876] result: true
2024-10-24 23:49:28.315 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[192.168.247.138:10911] result: true
2024-10-24 23:49:28.359 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2024-10-24 23:49:28.359 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaochengshu deregistering service xiaochengshu-note with instance: Instance{instanceId='null', ip='192.168.17.1', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2024-10-24 23:49:28.364 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2024-10-24 23:49:28.365 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2024-10-24 23:49:28.365 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2024-10-24 23:49:28.365 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2024-10-24 23:49:28.365 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2024-10-24 23:49:28.365 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2024-10-24 23:49:28.365 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2024-10-24 23:49:28.366 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2024-10-24 23:49:28.366 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2024-10-24 23:49:28.366 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2024-10-24 23:49:28.366 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2024-10-24 23:49:28.366 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2024-10-24 23:49:28.366 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2024-10-24 23:49:28.366 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2024-10-24 23:49:28.366 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2024-10-24 23:49:28.366 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2024-10-24 23:49:28.366 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2024-10-24 23:49:28.366 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@33099344[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2024-10-24 23:49:28.366 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1729154045248_192.168.247.1_59516
2024-10-24 23:49:28.372 [nacos-grpc-client-executor-192.168.247.138-170] WARN  c.a.nacos.common.remote.client.grpc.GrpcClient - [1729154045248_192.168.247.1_59516]Ignore error event,isRunning:false,isAbandon=false
2024-10-24 23:49:28.375 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@137e793f[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 171]
2024-10-24 23:49:28.375 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@4bc69951[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 231]
2024-10-24 23:49:28.375 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2024-10-24 23:49:28.375 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2024-10-24 23:49:28.375 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2024-10-24 23:49:28.376 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='xiaochengshu_group_DeleteNoteLocalCacheTopic', namespace='', nameServer='192.168.247.138:9876', topic='DeleteNoteLocalCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=BROADCASTING', tlsEnable=false, instanceName=DEFAULT}
2024-10-24 23:49:28.385 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[192.168.247.138:9876] result: true
2024-10-24 23:49:28.385 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[192.168.247.138:10911] result: true
2024-10-24 23:49:28.401 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2024-10-24 23:49:28.409 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2024-10-24 23:49:35.165 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-10-24 23:49:35.243 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-10-24 23:49:35.770 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-10-24 23:49:35.784 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-10-24 23:49:35.785 [main] INFO  c.s.o.note.biz.OrangeBookNoteBizApplication - The following 1 profile is active: "dev"
2024-10-24 23:49:36.433 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-24 23:49:36.436 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-24 23:49:36.460 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2024-10-24 23:49:36.723 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=f9c770fc-5b7b-391e-8590-fad460615d96
2024-10-24 23:49:36.761 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.swc.orangeBook.distributed.id.generator.api.DistributedIdGeneratorFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 23:49:36.763 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.swc.orangeBook.kv.api.KeyValueFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 23:49:36.764 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.swc.orangeBook.user.api.UserFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 23:49:36.998 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 23:49:37.063 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 23:49:37.066 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 23:49:37.069 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 23:49:37.070 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$711/0x00000194484f52f0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 23:49:37.072 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 23:49:37.078 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 23:49:37.079 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-24 23:49:37.380 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8086 (http)
2024-10-24 23:49:37.392 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2024-10-24 23:49:37.392 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2024-10-24 23:49:37.514 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-24 23:49:37.514 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1712 ms
2024-10-24 23:49:37.638 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2024-10-24 23:49:37.960 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2024-10-24 23:49:38.267 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaochengshu-distributed-id-generator' URL not provided. Will try picking an instance via load-balancing.
2024-10-24 23:49:38.312 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaochengshu-kv' URL not provided. Will try picking an instance via load-balancing.
2024-10-24 23:49:38.330 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaochengshu-user' URL not provided. Will try picking an instance via load-balancing.
2024-10-24 23:49:38.823 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (xiaochengshu_group) init on namesrv 192.168.247.138:9876
2024-10-24 23:49:39.149 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='xiaochengshu_group_DeleteNoteLocalCacheTopic', namespace='', nameServer='192.168.247.138:9876', topic='DeleteNoteLocalCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=BROADCASTING', tlsEnable=false, instanceName=DEFAULT}
2024-10-24 23:49:39.149 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:deleteNoteLocalCacheConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2024-10-24 23:49:39.225 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='xiaochengshu_group_LikeUnlikeTopic', namespace='', nameServer='192.168.247.138:9876', topic='LikeUnlikeTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2024-10-24 23:49:39.225 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:likeUnlikeNoteConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
2024-10-24 23:49:40.253 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8086 (http) with context path ''
2024-10-24 23:49:40.261 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-10-24 23:49:40.261 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2024-10-24 23:49:40.262 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2024-10-24 23:49:40.263 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2024-10-24 23:49:40.291 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2024-10-24 23:49:40.292 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2024-10-24 23:49:40.293 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2024-10-24 23:49:40.297 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2024-10-24 23:49:40.297 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2024-10-24 23:49:40.300 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2024-10-24 23:49:40.313 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 4fff09af-5f9a-4176-9e14-b1345814656f
2024-10-24 23:49:40.336 [main] INFO  com.alibaba.nacos.common.remote.client - [4fff09af-5f9a-4176-9e14-b1345814656f] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2024-10-24 23:49:40.336 [main] INFO  com.alibaba.nacos.common.remote.client - [4fff09af-5f9a-4176-9e14-b1345814656f] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2024-10-24 23:49:40.337 [main] INFO  com.alibaba.nacos.common.remote.client - [4fff09af-5f9a-4176-9e14-b1345814656f] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2024-10-24 23:49:40.339 [main] INFO  com.alibaba.nacos.common.remote.client - [4fff09af-5f9a-4176-9e14-b1345814656f] Try to connect to server on start up, server: {serverIp = '192.168.247.138', server main port = 8848}
2024-10-24 23:49:40.366 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:192.168.247.138 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2024-10-24 23:49:41.436 [main] INFO  com.alibaba.nacos.common.remote.client - [4fff09af-5f9a-4176-9e14-b1345814656f] Success to connect to server [192.168.247.138:8848] on start up, connectionId = 1729154809617_192.168.247.1_59990
2024-10-24 23:49:41.437 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [4fff09af-5f9a-4176-9e14-b1345814656f] Notify connected event to listeners.
2024-10-24 23:49:41.437 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2024-10-24 23:49:41.437 [main] INFO  com.alibaba.nacos.common.remote.client - [4fff09af-5f9a-4176-9e14-b1345814656f] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2024-10-24 23:49:41.437 [main] INFO  com.alibaba.nacos.common.remote.client - [4fff09af-5f9a-4176-9e14-b1345814656f] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$1280/0x00000194489b5180
2024-10-24 23:49:41.438 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaochengshu registering service xiaochengshu-note with instance Instance{instanceId='null', ip='192.168.17.1', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2024-10-24 23:49:41.454 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaochengshu-note 192.168.17.1:8086 register finished
2024-10-24 23:49:41.641 [main] INFO  c.s.o.note.biz.OrangeBookNoteBizApplication - Started OrangeBookNoteBizApplication in 7.229 seconds (process running for 7.88)
2024-10-24 23:51:23.345 [http-nio-8086-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-24 23:51:23.345 [http-nio-8086-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-24 23:51:23.346 [http-nio-8086-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-24 23:51:23.354 [http-nio-8086-exec-1] INFO  c.s.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: 111
2024-10-24 23:51:23.354 [http-nio-8086-exec-1] INFO  c.s.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 111
2024-10-24 23:51:23.460 [http-nio-8086-exec-1] INFO  c.s.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [点赞笔记], 入参: {"id":1849473040467886111}, 请求类: controller.com.swc.orangeBook.count.biz.NoteController, 请求方法: likeNote ===================================
2024-10-24 23:51:23.865 [http-nio-8086-exec-1] DEBUG c.s.o.n.b.d.m.NoteLikeDOMapper.selectNoteIsLiked - ==>  Preparing: select count(1) from t_note_like where user_id = ? and note_id = ? and status = 1 limit 1
2024-10-24 23:51:24.039 [http-nio-8086-exec-1] DEBUG c.s.o.n.b.d.m.NoteLikeDOMapper.selectNoteIsLiked - ==> Parameters: 111(Long), 1849473040467886111(Long)
2024-10-24 23:51:24.062 [http-nio-8086-exec-1] DEBUG c.s.o.n.b.d.m.NoteLikeDOMapper.selectNoteIsLiked - <==      Total: 1
2024-10-24 23:51:24.078 [http-nio-8086-exec-1] INFO  c.s.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [点赞笔记], 耗时: 619ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2024-10-24 23:51:24.094 [http-nio-8086-exec-1] INFO  c.s.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 111
2024-10-24 23:51:24.167 [NettyClientPublicExecutor_1] INFO  c.s.o.note.biz.service.impl.NoteServiceImpl - ==> 【笔记点赞】MQ 发送成功，SendResult: SendResult [sendStatus=SEND_OK, msgId=7F000001C00C63947C6B7B90C0C80000, offsetMsgId=C0A8F78A00002A9F0000000000000632, messageQueue=MessageQueue [topic=LikeUnlikeTopic, brokerName=192.168.247.138, queueId=1], queueOffset=0]
2024-10-24 23:52:00.372 [ConsumeMessageThread_xiaochengshu_group_LikeUnlikeTopic_1] INFO  c.s.o.note.biz.consumer.LikeUnlikeNoteConsumer - ==> LikeUnlikeNoteConsumer 消费了消息 {"userId":111,"noteId":1849473040467886111,"type":1,"createTime":"2024-10-24 23:51:24"}, tags: Like
2024-10-24 23:52:00.375 [ConsumeMessageThread_xiaochengshu_group_LikeUnlikeTopic_1] DEBUG c.s.o.n.b.d.mapper.NoteLikeDOMapper.insertOrUpdate - ==>  Preparing: INSERT INTO t_note_like (user_id, note_id, create_time, status) VALUES (?, ?, ?, ?) ON DUPLICATE KEY UPDATE create_time = ?, status = ?;
2024-10-24 23:52:00.480 [ConsumeMessageThread_xiaochengshu_group_LikeUnlikeTopic_1] DEBUG c.s.o.n.b.d.mapper.NoteLikeDOMapper.insertOrUpdate - ==> Parameters: 111(Long), 1849473040467886111(Long), 2024-10-24T23:51:24(LocalDateTime), 1(Integer), 2024-10-24T23:51:24(LocalDateTime), 1(Integer)
2024-10-24 23:52:00.489 [ConsumeMessageThread_xiaochengshu_group_LikeUnlikeTopic_1] DEBUG c.s.o.n.b.d.mapper.NoteLikeDOMapper.insertOrUpdate - <==    Updates: 1
